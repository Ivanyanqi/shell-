#!/bin/bash
#运行命令直到成功
#在日常工作中使用shell时，有时候命令只有满足某些条件或是某种外部事件(例如文件可以被下载)操作才能够成功执行。
#这种情况下，你可能希望重复执行命令，直到成功为止
#定义函数
repeat(){
    while true
    do
        $@ && return
    done
}
#我们创建了函数repeat，它包含了一个无限while循环，
#该循环执行以参数形式(通过$@访问)传入函数的命令。如果命令执行成功，则返回，进而退出循环
repeat pwd

#一种更快的做法
#在大多数现代系统中，true是作为/bin中的一个二进制文件来实现的。
#这就意味着每执行一 次while循环，shell就不得不生成一个进程。
#如果不想这样，可以使用shell内建的“:”命令， 它总是会返回为0的退出码
repeat1(){
    while :
    do 
        $@ && return
    done
}
